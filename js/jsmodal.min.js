/*!
 * jsModal - A pure JavaScript modal dialog engine v1.0
 * http://jsmodal.com/
 *
 * Author: Henry Rune Tang Kai <henry@henrys.se>
 *
 * (c) Copyright 2013 Henry Tang Kai.
 *
 * License: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: 2013-6-07
 */
var Modal=function(){var b={},c=document.createElement("div"),a=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),d=document.createElement("div"),k="auto",l="auto",f=!1,e=!1,m=!1;b.open=function(j){k=j.width||k;l=j.height||l;f=j.lock||f;e=j.hideclose||e;m=j.draggable||m;h.innerHTML=j.content;a.style.width=k;a.style.height=l;b.center({});if(f||e)d.style.visibility="hidden";c.style.visibility="visible";a.style.visibility="visible";document.onkeypress=function(a){27=== a.keyCode&&!0!==f&&b.close()};d.onclick=function(){if(e)return!1;b.close()};c.onclick=function(){if(f)return!1;b.close()};window.onresize=function(){b.center({horizontalOnly:!0})};!0===m&&(g.onmousedown=function(a){b.drag(a);return!1})};b.drag=function(b){var c=void 0!==window.event?window.event.clientX:b.clientX,d=void 0!==window.event?window.event.clientY:b.clientY,f=c-a.offsetLeft,e=d-a.offsetTop;document.onmousemove=function(b){c=void 0!==window.event?window.event.clientX:b.clientX;d=void 0!== window.event?window.event.clientY:b.clientY;a.style.left=c-f+"px";a.style.top=d-e+"px";this.onmouseup=function(){window.document.onmousemove=null}}};b.close=function(){h.innerHTML="";c.setAttribute("style","");c.style.cssText="";c.style.visibility="hidden";a.setAttribute("style","");a.style.cssText="";a.style.visibility="hidden";d.setAttribute("style","");d.style.cssText="";l=k="auto";m=e=f=!1};b.center=function(b){var d=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),f= Math.max(a.clientWidth,a.offsetWidth),e=Math.max(a.clientHeight,a.offsetHeight),g=Math.max(Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),Math.max(document.body.clientWidth,document.documentElement.clientWidth)),e=(Math.max(Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))-e)/2,h=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode|| document.body).scrollTop;b.horizontalOnly||(a.style.top=e+h+"px");a.style.left=(g-f)/2+"px";c.style.height=d+"px";c.style.width="100%"};c.setAttribute("id","modal-overlay");a.setAttribute("id","modal-container");g.setAttribute("id","modal-header");h.setAttribute("id","modal-content");d.setAttribute("id","modal-close");g.appendChild(d);a.appendChild(g);a.appendChild(h);c.style.visibility="hidden";a.style.visibility="hidden";window.onload=function(){document.body.appendChild(c);document.body.appendChild(a)}; return b}();