/*!
 * jsModal - A pure JavaScript modal dialog engine v1.0a
 * http://jsmodal.com/
 *
 * Author: Henry Rune Tang Kai <henry@henrys.se>
 *
 * (c) Copyright 2013 Henry Tang Kai.
 *
 * License: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: 2013-6-07
 */
var Modal=function(){var b={},k,l,e,j,m,c=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div");b.open=function(h){k=h.width||"auto";l=h.height||"auto";e=h.lock||!1;j=h.hideclose||!1;m=h.draggable||!1;g.innerHTML=h.content;a.style.width=k;a.style.height=l;b.center({});if(e||j)f.style.visibility="hidden";c.style.visibility="visible";a.style.visibility="visible";document.onkeypress=function(a){27=== a.keyCode&&!0!==e&&b.close()};f.onclick=function(){if(j)return!1;b.close()};c.onclick=function(){if(e)return!1;b.close()};window.onresize=function(){b.center({horizontalOnly:!0})};!0===m?(d.style.cursor="move",d.onmousedown=function(a){b.drag(a);return!1}):d.onmousedown=function(){return!1}};b.drag=function(b){var c=void 0!==window.event?window.event.clientX:b.clientX,d=void 0!==window.event?window.event.clientY:b.clientY,f=c-a.offsetLeft,e=d-a.offsetTop;document.onmousemove=function(b){c=void 0!== window.event?window.event.clientX:b.clientX;d=void 0!==window.event?window.event.clientY:b.clientY;a.style.left=0<c-f?c-f+"px":"0px";a.style.top=0<d-e?d-e+"px":"0px";document.onmouseup=function(){window.document.onmousemove=null}}};b.close=function(){g.innerHTML="";c.setAttribute("style","");c.style.cssText="";c.style.visibility="hidden";a.setAttribute("style","");a.style.cssText="";a.style.visibility="hidden";d.style.cursor="default";f.setAttribute("style","");f.style.cssText=""};b.center=function(b){var d= Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),f=Math.max(a.clientWidth,a.offsetWidth),e=Math.max(a.clientHeight,a.offsetHeight),g=Math.max(Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),Math.max(document.body.clientWidth,document.documentElement.clientWidth)),e=(Math.max(Math.max(document.body.offsetHeight,document.documentElement.offsetHeight),Math.max(document.body.clientHeight,document.documentElement.clientHeight))-e)/2,j=void 0!==window.pageYOffset? window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;b.horizontalOnly||(a.style.top=e+j+"px");a.style.left=(g-f)/2+"px";c.style.height=d+"px";c.style.width="100%"};c.setAttribute("id","modal-overlay");a.setAttribute("id","modal-container");d.setAttribute("id","modal-header");g.setAttribute("id","modal-content");f.setAttribute("id","modal-close");d.appendChild(f);a.appendChild(d);a.appendChild(g);c.style.visibility="hidden";a.style.visibility="hidden";window.onload= function(){document.body.appendChild(c);document.body.appendChild(a)};return b}();