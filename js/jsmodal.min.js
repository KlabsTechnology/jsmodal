/*!
 * jsModal - A pure JavaScript modal dialog engine v1.0b
 * http://jsmodal.com/
 *
 * Author: Henry Rune Tang Kai <henry@henrys.se>
 *
 * (c) Copyright 2013 Henry Tang Kai.
 *
 * License: http://www.opensource.org/licenses/mit-license.php
 *
 * Date: 2013-6-10
 */
var Modal=function(){var b={},n,p,g,m,q,c=document.createElement("div"),a=document.createElement("div"),d=document.createElement("div"),f=document.createElement("div"),e=document.createElement("div");b.open=function(h){n=h.width||"auto";p=h.height||"auto";g=h.lock||!1;m=h.hideclose||!1;q=h.draggable||!1;f.innerHTML=h.content;a.style.width=n;a.style.height=p;b.center({});if(g||m)e.style.visibility="hidden";c.style.visibility="visible";a.style.visibility="visible";document.onkeypress=function(a){27=== a.keyCode&&!0!==g&&b.close()};e.onclick=function(){if(m)return!1;b.close()};c.onclick=function(){if(g)return!1;b.close()};window.onresize=function(){b.center({horizontalOnly:!0})};!0===q?(d.style.cursor="move",d.onmousedown=function(a){b.drag(a);return!1}):d.onmousedown=function(){return!1}};b.drag=function(b){var c=void 0!==window.event?window.event.clientX:b.clientX,d=void 0!==window.event?window.event.clientY:b.clientY,e=c-a.offsetLeft,j=d-a.offsetTop;document.onmousemove=function(b){c=void 0!== window.event?window.event.clientX:b.clientX;d=void 0!==window.event?window.event.clientY:b.clientY;a.style.left=0<c-e?c-e+"px":"0px";a.style.top=0<d-j?d-j+"px":"0px";document.onmouseup=function(){window.document.onmousemove=null}}};b.close=function(){f.innerHTML="";c.setAttribute("style","");c.style.cssText="";c.style.visibility="hidden";a.setAttribute("style","");a.style.cssText="";a.style.visibility="hidden";d.style.cursor="default";e.setAttribute("style","");e.style.cssText=""};b.center=function(b){var d= Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),e=Math.max(a.clientWidth,a.offsetWidth),g=Math.max(a.clientHeight,a.offsetHeight),j=0,f=0,k=0,l=0;"number"===typeof window.innerWidth?(j=window.innerWidth,f=window.innerHeight):document.documentElement&&document.documentElement.clientWidth&&(j=document.documentElement.clientWidth,f=document.documentElement.clientHeight);"number"===typeof window.pageYOffset?(l=window.pageYOffset,k=window.pageXOffset):document.body&&document.body.scrollLeft? (l=document.body.scrollTop,k=document.body.scrollLeft):document.documentElement&&document.documentElement.scrollLeft&&(l=document.documentElement.scrollTop,k=document.documentElement.scrollLeft);b.horizontalOnly||(a.style.top=l+f/2-g/2+"px");a.style.left=k+j/2-e/2+"px";c.style.height=d+"px";c.style.width="100%"};c.setAttribute("id","modal-overlay");a.setAttribute("id","modal-container");d.setAttribute("id","modal-header");f.setAttribute("id","modal-content");e.setAttribute("id","modal-close");d.appendChild(e); a.appendChild(d);a.appendChild(f);c.style.visibility="hidden";a.style.visibility="hidden";window.onload=function(){document.body.appendChild(c);document.body.appendChild(a)};return b}();